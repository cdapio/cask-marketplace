{
  "parents": [
    "system:cdap-data-streams[4.1.0-SNAPSHOT,5.0.0)"
  ],
  "properties": {
    "widgets.CDCDatabase-streamingsource": "{\"metadata\":{\"spec-version\":\"1.3\"},\"configuration-groups\":[{\"label\":\"Kafka Configuration\",\"properties\":[{\"widget-type\":\"textbox\",\"label\":\"Reference Name\",\"name\":\"referenceName\"},{\"widget-type\":\"textbox\",\"label\":\"Kafka Broker\",\"name\":\"broker\"},{\"widget-type\":\"textbox\",\"label\":\"Kafka Topic\",\"name\":\"topic\"},{\"widget-type\":\"textbox\",\"label\":\"Default Initial Offset\",\"name\":\"defaultInitialOffset\"},{\"widget-type\":\"textbox\",\"label\":\"Max Rate Per Partition\",\"name\":\"maxRatePerPartition\",\"widget-attributes\":{\"default\":\"1000\"}}]}],\"outputs\":[{\"widget-type\":\"non-editable-schema-editor\",\"schema\":{\"type\":\"record\",\"name\":\"etlSchemaBody\",\"fields\":[{\"name\":\"op_type\",\"type\":[\"string\",\"null\"]},{\"name\":\"table\",\"type\":\"string\"},{\"name\":\"primary_keys\",\"type\":{\"type\":\"array\",\"items\":\"string\"}},{\"name\":\"schema\",\"type\":\"string\"},{\"name\":\"change\",\"type\":{\"type\":\"record\",\"name\":\"changerecord\",\"fields\":[{\"name\":\"columns\",\"type\":{\"type\":\"map\",\"keys\":\"string\",\"values\":\"string\"}}]}}]}}]}",
    "widgets.CDCHBase-sparksink": "{\"metadata\":{\"spec-version\":\"1.0\"},\"configuration-groups\":[{\"label\":\"HBase Sink Configuration\",\"properties\":[{\"widget-type\":\"textbox\",\"label\":\"Reference Name\",\"name\":\"referenceName\",\"description\":\"Reference specifies the name to be used to track this external source\"},{\"widget-type\":\"textbox\",\"label\":\"Namespace Name\",\"name\":\"namespace\",\"description\":\"Name of the namespace in which HBase tables will be created. Defaults to 'default' namespace in HBase.\"}]}]}",
    "widgets.CDCKudu-sparksink": "{\"metadata\":{\"spec-version\":\"1.0\"},\"configuration-groups\":[{\"label\":\"Kudu Configuration\",\"properties\":[{\"widget-type\":\"textbox\",\"label\":\"Reference Name\",\"name\":\"referenceName\",\"description\":\"Reference specifies the name to be used to track this external source\"},{\"widget-type\":\"textbox\",\"label\":\"Master Addresses\",\"name\":\"master\",\"description\":\"Comma separated list of hostname:port of Apache Kudu Masters\"}]},{\"label\":\"Kudu Advanced Options\",\"properties\":[{\"widget-type\":\"number\",\"label\":\"No of buckets (DEFAULT: 16)\",\"name\":\"buckets\",\"widget-attributes\":{\"default\":16}},{\"widget-type\":\"number\",\"label\":\"Seed to randomize the mapping of rows to hash buckets (DEFAULT: 0)\",\"name\":\"seed\",\"widget-attributes\":{\"default\":1}},{\"widget-type\":\"select\",\"label\":\"Compression Algorithm. All fields will be applied same compression. (DEFAULT: Snappy)\",\"name\":\"compression-algo\",\"widget-attributes\":{\"values\":[\"Snappy\",\"LZ4\",\"ZLib\",\"Backend configured\",\"No Compression\"],\"default\":\"Snappy\"}},{\"widget-type\":\"select\",\"label\":\"Encoding Type. All fields will be applied same encoding. (DEFAULT : Auto)\",\"name\":\"encoding\",\"widget-attributes\":{\"values\":[\"Auto\",\"Plain\",\"Prefix\",\"Group Variant\",\"RLE\",\"Dictionary\",\"Bit Shuffle\"],\"default\":\"Auto\"}},{\"widget-type\":\"number\",\"label\":\"User operations timeout in milliseconds (DEFAULT: 30000ms)\",\"name\":\"opt-timeout\",\"widget-attributes\":{\"default\":30000}},{\"widget-type\":\"number\",\"label\":\"Administration operation timeout in milliseconds (DEFAULT: 30000ms)\",\"name\":\"admin-timeout\",\"widget-attributes\":{\"default\":30000}},{\"widget-type\":\"number\",\"label\":\"Number of copies (DEFAULT: 1)\",\"name\":\"replicas\",\"widget-attributes\":{\"default\":1}},{\"widget-type\":\"number\",\"label\":\"Rows to be cached before being flushed (DEFAULT: 1000)\",\"name\":\"row-flush\",\"widget-attributes\":{\"default\":1000}},{\"widget-type\":\"number\",\"label\":\"Specifies the number of boss threads to be used by the client.\",\"name\":\"boss-threads\",\"widget-attributes\":{\"default\":1}}]}]}",
    "widgets.CTSQLServer-streamingsource": "{\"metadata\":{\"spec-version\":\"1.3\"},\"configuration-groups\":[{\"label\":\"CT SQL Server Configuration\",\"properties\":[{\"widget-type\":\"textbox\",\"label\":\"Reference Name\",\"name\":\"referenceName\"},{\"widget-type\":\"textbox\",\"label\":\"Hostname\",\"name\":\"hostname\"},{\"widget-type\":\"textbox\",\"label\":\"Port\",\"name\":\"port\",\"widget-attributes\":{\"default\":\"1433\"}},{\"widget-type\":\"textbox\",\"label\":\"Username\",\"name\":\"username\"},{\"widget-type\":\"password\",\"label\":\"Password\",\"name\":\"password\"},{\"widget-type\":\"textbox\",\"label\":\"Database name\",\"name\":\"dbname\"}]}],\"outputs\":[{\"widget-type\":\"non-editable-schema-editor\",\"schema\":{\"name\":\"etlSchemaBody\",\"type\":\"record\",\"fields\":[{\"name\":\"message\",\"type\":[\"bytes\",\"null\"]}]}}]}",
    "widgets.GoldenGateNormalizer-transform": "{\"metadata\":{\"spec-version\":\"1.3\"},\"configuration-groups\":[{\"label\":\"Normalizer Configuration\",\"properties\":[{\"widget-type\":\"select\",\"label\":\"Include namespace name in table name\",\"name\":\"includeNamespaceInTableName\",\"widget-attributes\":{\"values\":[\"true\",\"false\"],\"default\":\"false\"}}]}],\"outputs\":[{\"widget-type\":\"non-editable-schema-editor\",\"schema\":{\"type\":\"record\",\"name\":\"etlSchemaBody\",\"fields\":[{\"name\":\"op_type\",\"type\":[\"string\",\"null\"]},{\"name\":\"table\",\"type\":\"string\"},{\"name\":\"primary_keys\",\"type\":{\"type\":\"array\",\"items\":\"string\"}},{\"name\":\"schema\",\"type\":\"string\"},{\"name\":\"change\",\"type\":{\"type\":\"record\",\"name\":\"changerecord\",\"fields\":[{\"name\":\"columns\",\"type\":{\"type\":\"map\",\"keys\":\"string\",\"values\":\"string\"}}]}}]}}]}",
    "widgets.OracleLogMiner-streamingsource": "{\"metadata\":{\"spec-version\":\"1.3\"},\"configuration-groups\":[{\"label\":\"Oracle LogMiner Source Configuration\",\"properties\":[{\"widget-type\":\"textbox\",\"label\":\"Reference Name\",\"name\":\"referenceName\"},{\"widget-type\":\"textbox\",\"label\":\"Hostname\",\"name\":\"hostname\"},{\"widget-type\":\"textbox\",\"label\":\"Port\",\"name\":\"port\",\"widget-attributes\":{\"default\":\"1521\"}},{\"widget-type\":\"textbox\",\"label\":\"Username\",\"name\":\"username\"},{\"widget-type\":\"password\",\"label\":\"Password\",\"name\":\"password\"},{\"widget-type\":\"textbox\",\"label\":\"Database name\",\"name\":\"dbname\"},{\"widget-type\":\"textbox\",\"label\":\"Start SCN\",\"name\":\"startSCN\"},{\"widget-type\":\"textbox\",\"label\":\"Table names\",\"name\":\"tableNames\"},{\"widget-type\":\"select\",\"label\":\"Dictionary Source\",\"name\":\"dictionarySource\",\"widget-attributes\":{\"values\":[\"Online Catalog\",\"Redo Logs\"],\"default\":\"Online Catalog\"}}]}],\"outputs\":[{\"widget-type\":\"non-editable-schema-editor\",\"schema\":{\"type\":\"record\",\"name\":\"etlSchemaBody\",\"fields\":[{\"name\":\"op_type\",\"type\":[\"string\",\"null\"]},{\"name\":\"table\",\"type\":\"string\"},{\"name\":\"primary_keys\",\"type\":{\"type\":\"array\",\"items\":\"string\"}},{\"name\":\"schema\",\"type\":\"string\"},{\"name\":\"change\",\"type\":{\"type\":\"record\",\"name\":\"changerecord\",\"fields\":[{\"name\":\"columns\",\"type\":{\"type\":\"map\",\"keys\":\"string\",\"values\":\"string\"}}]}}]}}]}",
    "doc.CDCHBase-sparksink": "CDC HBase Sink\n==============\n\nCDAP plugin for storing the changed data into HBase. This plugin can be used with\n `CDC Database Source`, `OracleLogMiner Source`, or `ChangeTrackingSQLServer Source` plugin for reading\n the changes from Oracle or SQLServer databases respectively.\n\nUsage Notes\n-----------\n\nThe plugin accepts the DDL and DML records from the source plugin to which it is connected to. If the table does not\nexists in the HBase cluster, it will be created.\n\nPlugin Configuration\n---------------------\n\nThis plugin only accepts the reference name. Other configurations required to connect to the HBase cluster are\npicked up from hbase-site.xml.\n\n| Config | Required | Default | Description |\n| :------------ | :------: | :----- | :---------- |\n| **Reference Name** | **Y** | N/A | A unique name which will be used to identify this source for lineage and annotating metadata.|\n| **Namespace Name** | **N** | N/A | Name of the namespace in which HBase tables will be created. Namespace must exists in the HBase. Defaults to 'default' namespace.|",
    "doc.CTSQLServer": "Change Tracking SQL Server Streaming Source\n===========================================\n\nCDAP Realtime Plugin for EDW offloading from SQL Server through Change Tracking.\n\nPlugin Configuration\n---------------------\n| Config | Required | Default | Description |\n| :------------ | :------: | :----- | :---------- |\n| **Reference Name** | **Y** | N/A | A unique name which will be used to identify this source for lineage and annotating metadata.|\n| **Hostname** | **Y** | N/A | Hostname of the SQL Server from which the data needs to be offloaded. Ex: mysqlserver.net or 12.123.12.123  |\n| **Port** | **Y** | 1433 | SQL Server Port |\n| **Username** | N | N/A | Username to use to connect to the specified database. Required for databases that need authentication. Optional for databases that do not require authentication. |\n| **Password** | N | N/A | Password to use to connect to the specified database. Required for databases that need authentication. Optional for databases that do not require authentication. |\n| **Database name** | **Y** | N/A | SQL Server database name which needs to be tracked. Note: Change Tracking must be enabled on the database for the source to read the chage data.|\n\nSQL Server Change Tracking\n--------------------------\nChange Tracking allows to identify the rows which have changed. Change Tracking SQL Server Streaming Source leverage \nthis to retrieve just the minimum information to keep a SQL server database in sync with a downstream sink. You can \nread more about SQL Server Change Tracking \n[here](https://docs.microsoft.com/en-us/sql/relational-databases/track-changes/about-change-tracking-sql-server)\n\n### Change Tracking and Change Data Capture\nSQL Server also allow capturing the changed data through Change Data Capture. Change Data Capture provides historical \ninformation about the changes. This plugin uses Change Tracking over Change Data Capture because of the following \nreasons:\n\n1. Historical Information: From a pipeline whose purose is to offload data from a database and/or to keep a database \nin sync with some external storage, historical information is not critical.\n2. Schema Changes: Change Data Capture has very limited suport for schema changes in the table being tracked. \nNew columns added to a tracked table are not automatically tracked. For more details please refer \n[Handling Changes to Source Data](https://docs.microsoft.com/en-us/sql/relational-databases/track-changes/about-change-data-capture-sql-server#handling-changes-to-source-tables)\n3. Supported Editions: Change Data Capture is only avaliable in DataCenter and Enterprise editions whereas \nChange Tracking is supported in Express, Workgroup, Web Standard, Enterprise and DataCenter.\nYou can read more about differences between SQL Server CT and CDC \n[here](https://technet.microsoft.com/en-us/library/cc280519(v=sql.105).aspx)\n\n### Enable Change Tracking for a Database\nBefore you start using the Change Tracking SQL Server Source to track changes in your database you will need to \nenable Change Tracking on the database. Change Tracking can be enabled on database by:\n\n> ALTER DATABASE dbName SET CHANGE_TRACKING = ON (CHANGE_RETENTION = 2 DAYS, AUTO_CLEANUP = ON)\n\nRefer [Enable Change Tracking for a Database](https://docs.microsoft.com/en-us/sql/relational-databases/track-changes/enable-and-disable-change-tracking-sql-server#enable-change-tracking-for-a-database) for more details.\n\n### Enable Change Tracking for a Table\nChange Tracking SQL Server Streaming Source will sync all the tables in a database which has change tracking enabled. \nChange Tracking can ge enabled for a table by:\n\n> ALTER TABLE trackedTables ENABLE CHANGE_TRACKING WITH (TRACK_COLUMNS_UPDATED = OFF)\n\nRefer [Enable Change Tracking for a Table](https://docs.microsoft.com/en-us/sql/relational-databases/track-changes/enable-and-disable-change-tracking-sql-server#enable-change-tracking-for-a-table) for more details.\n\n",
    "doc.OracleLogMiner-streamingsource": "Oracle LogMiner Source\n======================\n\nCDAP Realtime Plugin for offloading data from Oracle using LogMiner.\n\nUsage Notes\n-----------\n\nCDAP plugin that processes change data capture (CDC) information provided by Oracle LogMiner redo logs. To use this\nplugin, you must enable the LogMiner for the database you want to use. LogMiner requires dictionary to process the\nREDO logs. The dictionary for the LogMiner can be provided from following sources:\n\n1. Online catalog: This is faster and recommended approach. Use this either when the table schema is not expected to\nchange or you can control the DDL operation in a manner such that the DDL is only performed when all the DML records\nare processed by pipeline.\n\n2. REDO logs: Use this when table schema is expected to change without the control as mentioned in option 1 above.\nWhen using this option make sure to extract the latest dictionary to the REDO logs when schema of the table changes.\nThis option has significantly higher delay in processing event compared to the Online catalog option, however it can\nbe used when DDL operations on the table happen out of control of admin.\n\nThis plugin also requires the SCN from which the processing of the REDO logs need to be started. While providing start\nSCN for REDO logs, make sure that Dictionary extraction has happened after that SCN.\n\nPreparing database for the LogMiner\n------------------------------------\n\nThis section explains preparing the Oracle database for the LogMiner. The steps might vary based on the installation.\n\nLogin to database as sysdba:\n\n    sqlplus / as sysdba\n\nCheck the database logging mode:\n\n    select log_mode from v$database;\n\nIf the above command returns `ARCHIVELOG` you can move to `Enable Supplemental Logging` section,\notherwisw perform the following steps:\n\n    SHUTDOWN IMMEDIATE\n    STARTUP MOUNT\n    ALTER DATABASE ARCHIVELOG;\n    ALTER DATABASE OPEN;\n\nEnable Supplemental Logging\n---------------------------\n\nTo retrieve data from REDO logs, we need to enable supplemental logging on the database or tables.\n\nFor individual tables:\n\n    ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;\n    ALTER TABLE <schema name>.<table name> ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;\n\nFor all tables:\n\n    ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;\n\nSubmit the changes:\n\n    ALTER SYSTEM SWITCH LOGFILE;\n\nGrant necessary permissions to the user for reading the logminer processed data:\n\n    GRANT create session, alter session, select any dictionary, logmining, execute_catalog_role TO <username>;\n\nExtract LogMiner dictionary\n---------------------------\n\nWhen using redo logs as the dictionary source, you must extract the Log Miner dictionary to the redo logs before you start the pipeline.\nRepeat this step periodically to ensure that the redo logs that contain the dictionary are still available.\n\nTo extract the dictionary for Oracle 12c databases, run the following command:\n\n    EXECUTE DBMS_LOGMNR_D.BUILD(OPTIONS=> DBMS_LOGMNR_D.STORE_IN_REDO_LOGS);\n\n\nPlugin Configuration\n---------------------\n| Config | Required | Default | Description |\n| :------------ | :------: | :----- | :---------- |\n| **Reference Name** | **Y** | N/A | A unique name which will be used to identify this source for lineage and annotating metadata.|\n| **Hostname** | **Y** | N/A | Hostname of the Oracle from which the data needs to be offloaded. |\n| **Port** | **Y** | 1521 | Oracle Server Port |\n| **Username** | N | N/A | Username to use to connect to the specified database. Required for databases that need authentication. Optional for databases that do not require authentication. |\n| **Password** | N | N/A | Password to use to connect to the specified database. Required for databases that need authentication. Optional for databases that do not require authentication. |\n| **Database name** | **Y** | N/A | Oracle database name which needs to be tracked.|\n| **Dictionary Source** | **Y** | Online Catalog | Source for the LogMiner dictionary. |\n| **Table names** | **Y** | N/A | Comma separated list of table names. |\n\nThis plugin only accepts the reference name. Other configurations required to connect to the HBase cluster are\npicked up from hbase-site.xml.\n\n| Config | Required | Default | Description |\n| :------------ | :------: | :----- | :---------- |\n| **Reference Name** | **Y** | N/A | A unique name which will be used to identify this source for lineage and annotating metadata.|\n| **Namespace Name** | **N** | N/A | Name of the namespace in which HBase tables will be created. Namespace must exists in the HBase. Defaults to 'default' namespace.|"
  }
}